@ECHO off
REM Script para listar e encerrar processos de navegadores e apps de comunicacao
REM Autor: SentinelData
REM Data: 2025-07-17
REM Uso: Fornece uma lista de processos de navegadores e apps de comunicacao, e encerra os processos especificados. Uso apenas didatico.

ECHO Processos de Navegadores, VO-IP, Security-Apps:
ECHO ================================================
TASKLIST | FINDSTR /I "chrome.exe firefox.exe msedge.exe discord.exe WhatsApp.exe telegram.exe WinDefend Sense WdNisSvc SecurityHealthService mpssvc MsMpEng.exe NisSrv.exe SecurityHealthService.exe"
ECHO.

REM Variaveis para processos de navegadores e apps de VO-IP
set "VO_IP_PROC= discord.exe whatsApp.exe telegram.exe"
set "NAVEGADORES_PROC= chrome.exe firefox.exe msedge.exe"
set "SECURITY_PROC= MsMpEng.exe NisSrv.exe SecurityHealthService.exe"
set "SECURITY_SERVICES= WinDefend Sense WdNisSvc SecurityHealthService mpssvc"

REM Variaveis para caminhos de cache/dados dos navegadores
set "ChromeCache=%USERPROFILE%\AppData\Local\Google\Chrome\User Data"
set "FirefoxCache=%USERPROFILE%\AppData\Roaming\Mozilla\"
set "EdgeCache=%USERPROFILE%\AppData\Local\Microsoft\Edge\User Data"

REM Variaveis para caminhos de cache/dados dos Apps de VO-IP
set "DiscordCache=%USERPROFILE%\AppData\Roaming\discord"

ECHO ================================================
ECHO Encerrando Navegadores, VO-IP, Security-Apps...

ECHO =====================================================
ECHO NAVEGADORES_PROC: %NAVEGADORES_PROC%
ECHO =====================================================
    FOR %%P in (%NAVEGADORES_PROC%) DO (    
        ECHO Encerrando %%P...
        taskkill /F /IM %%P >nul 2>&1
    )     
ECHO.                                      
ECHO =====================
ECHO Pasta de Cache/Dados
ECHO =====================
    IF EXIST "%ChromeCache%" (
        ECHO Pasta de Dados/Cache: "%ChromeCache%" "(Encontrada)"
    )
    IF EXIST "%FirefoxCache%" (
        ECHO Pasta de Dados/Cache: "%FirefoxCache%" "(Encontrada)"
    )
    IF EXIST "%EdgeCache%" (
        ECHO Pasta de Dados/Cache: "%EdgeCache%" "(Encontrada)"
    )
ECHO.
ECHO =====================
ECHO Limpando Navegadores
ECHO =====================
ECHO MOZILLA FIREFOX
    IF EXIST "%FirefoxCache%" (
        ECHO Apagando dados do Mozilla Firefox: "%FirefoxCache%"
            FOR /D %%D IN ("%FirefoxCache%\*") DO (
                RMDIR /S /Q "%%D"
            )   
            IF %ERRORLEVEL% EQU 0 (ECHO Dados do Firefox apagados com sucesso.) ELSE (ECHO Log_Error Erro ao apagar dados do Firefox.)
    ) 
ECHO.
ECHO GOOGLE CHROME
    IF EXIST "%ChromeCache%" (
        ECHO Apagando dados do Google Chrome: "%ChromeCache%"
            FOR /D %%D IN ("%ChromeCache%\*") DO (
                RMDIR /S /Q "%%D"
            )   
            IF %ERRORLEVEL% EQU 0 (ECHO Dados do Chrome apagados com sucesso.) ELSE (ECHO Log_Error Erro ao apagar dados do Chrome.)
    )
ECHO.
ECHO MICROSOFT EDGE
    IF EXIST "%EdgeCache%" (
        ECHO Apagando dados do Microsoft Edge: "%EdgeCache%"
            FOR /D %%D IN ("%EdgeCache%\*") DO (
                RMDIR /S /Q "%%D"
            )   
            IF %ERRORLEVEL% EQU 0 (ECHO Dados do Edge apagados com sucesso.) ELSE (ECHO Log_Error Erro ao apagar dados do Edge.)
    )
ECHO.

ECHO ======================================================================
ECHO VO_IP_PROC: %VO_IP_PROC%
ECHO ======================================================================
    FOR %%P in (%VO_IP_PROC%) DO (
        ECHO Encerrando %%P...
        taskkill /F /IM %%P >nul 2>&1
    )
ECHO.
ECHO =====================
ECHO Pasta de Cache/Dados
ECHO =====================
    IF EXIST "%DiscordCache%" (
        ECHO Pasta de Dados/Cache: "%DiscordCache%" "(Encontrada)"
    )
ECHO.
ECHO =======================
ECHO Limpando Apps de VO-IP
ECHO =======================
ECHO DISCORD
    IF EXIST "%DiscordCache%" (
        ECHO Apagando dados do Discord: "%DiscordCache%"
        REM Tentamos apagar a pasta e recriar. Isso garante que todo o conteúdo é removido.
        RMDIR /S /Q "%DiscordCache%" >nul 2>&1
        IF NOT EXIST "%DiscordCache%" (
            ECHO Dados do Discord apagados com sucesso.
            REM Opcional: Recriar a pasta se o Discord precisar dela para iniciar
            REM MKDIR "%DiscordCache%" >nul 2>&1
        ) ELSE (
            ECHO Log_Error Erro: Nao foi possivel apagar a pasta do Discord. Pode estar em uso.
        )
    )
ECHO.
pause